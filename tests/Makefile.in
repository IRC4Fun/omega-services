CC		    = @CC@

INSTALL		= @INSTALL@
INSTALL_BIN	= @INSTALL_PROGRAM@

prefix	    = @prefix@
exec_prefix	= @exec_prefix@
bindir		= @bindir@
RM		    = @RM@

CFLAGS		= -pipe -O0 -fPIC -g -ggdb @CFLAGS@ -I./include -I../include
LDFLAGS		= @LDFLAGS@
LIBS		= @LIBS@


default: all
all: tests
build: all

APP_OBJ_FILES := $(notdir $(wildcard ../src/*.o))

TEST_FILES := $(wildcard ./*.c)
TEST_OBJ_FILES := $(notdir $(SRC_FILES:.c=.o)))

tests:
	@echo $(APP_OBJ_FILES)

clean:
	@${RM} -f *.o security *~ security.core *.core

header-guard:
	@${RM} -f *.h


distclean: clean
	@${RM} -f Makefile

.c.o:
	@echo "[TEST] $<"
	@${CC} ${CPPFLAGS} ${CFLAGS} -c $<

